!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=49)}({49:function(e,t,r){e.exports=r(50)},50:function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}jQuery(function(e){({isUrl:function(e){return/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},init:function(){var e=this;Handlebars.registerHelper("gravatar",function(t,r){return t=Handlebars.escapeExpression(t),e.isUrl(t)?new Handlebars.SafeString('<img src="'+t+'" class="gravatar">'):new Handlebars.SafeString('<span class="gravatar text-uppercase '+r+'">'+t+"</span>")}),Handlebars.registerHelper("image",function(e,t){return 1===t?e.replace("_640x640.jpg","_50x50.jpg"):e.replace("_640x640.jpg","")})}}).init();var t={list:"#ali-list-template",orders:"#ali-orders-list",notfound:"#ali-list-notfound",more:"#ali-more-template"},n={page:"#ads_page"},i={request:function(t,n,i){n=""!==n&&"object"===r(n)?window.ADS.serialize(n):n,e.ajaxQueue({url:ajaxurl,data:{action:"ads_action_orders",ads_action:t,args:n},type:"POST",dataType:"json",success:i})},listOrders:function(){this.request("list_tracking",e("#params"),this.listOrdersRender)},listOrdersRender:function(r){var n=e(t.list).html(),i=e(t.orders);r&&(r.hasOwnProperty("error")?window.ADS.notify(r.error,"danger"):(0===r.orders.length&&(n=e(t.notfound).html()),i.html(window.ADS.objTotmpl(n,r)),setTimeout(window.ADS.switchery(i),300),i.find(".pagination-menu").length&&window.ADS.createJQPagination("#"+i.attr("id"),r.total,r.ads_page)))},renderChangeStatus:function(t){if(t)if(t.hasOwnProperty("error"))window.ADS.notify(t.error,"danger");else{window.ADS.notify(t.message,"success");var r=e('[data-id="'+t.id+'"]');r.find(".gravatar").addClass(t.color),r.find(".fulfillment").addClass("status-"+t.color)}},handler:function(){var t=this,r=e(document);r.on("click","#btn-clear",function(){e("#all-fulfillment").val("all").change(),e("#all-tracking_status").val("all").change(),e("#all-filter_tracking").val("all").change(),e.each({ads_page:1,fulfillment:"all",s:"",from:"",to:"",tracking_status:"all"},function(t,r){e("#params").find('input[name="'+t+'"]').val(r)}),e.event.trigger({type:"datepicker:change"}),t.listOrders(),e.event.trigger({type:"changedocinfo"})}),r.on("pagination:click",function(r){e(n.page).val(r.page),t.listOrders(),e.event.trigger({type:"changedocinfo"})}),r.on("datepicker:update",function(){e(n.page).val(1),t.listOrders(),e.event.trigger({type:"changedocinfo"})}),r.on("click","#btn-search",function(r){r.preventDefault();var i=e("#search").val().trim();e(n.page).val(1),e("#s").val(i),t.listOrders(),e.event.trigger({type:"changedocinfo"})}),r.on("change","#all-fulfillment",function(r){e("#fulfillment").val(e(this).val()),e("#ads_page").val(1),t.listOrders(),e.event.trigger({type:"changedocinfo"})}),r.on("change","#all-tracking_status",function(r){e("#tracking_status").val(e(this).val()),e("#ads_page").val(1),t.listOrders(),e.event.trigger({type:"changedocinfo"})}),r.on("change","#all-filter_tracking",function(r){e("#filter_tracking").val(e(this).val()),e("#ads_page").val(1),t.listOrders(),e.event.trigger({type:"changedocinfo"})}),r.on("change","#all-filter_order",function(r){e("#filter_order").val(e(this).val()),e("#ads_page").val(1),t.listOrders(),e.event.trigger({type:"changedocinfo"})}),r.on("click",".js-get-tracking",function(){e(this).find(".fa").addClass("spin");var t=e(this).data("order_number"),r=e(this).data("order_id");t&&r&&window.ADS.aliExtension.getTIPOrder(r,t)}),r.on("click","#all-sync",function(){e(this).find(".fa").addClass("spin"),i.request("list_ordersIdAli",e("#params"),i.getTIPOrders)}),window.ADS.Dispatcher.on("adsGoogleExtension:setOrderTIP",function(t){if(void 0!==t.orderIdStore&&void 0!==t.orderDetail.trackingNo)i.listOrders();else{var r=e("#msg-tip-error").text();window.ADS.notify(r)}},this),window.ADS.Dispatcher.on("adsGoogleExtension:setOrdersTIP",function(t){if(e("#all-sync .fa").removeClass("spin"),void 0!==t.ordersDetail&&t.ordersDetail.length)i.listOrders();else{var r=e("#msg-tip-error").text();window.ADS.notify(r)}},this),window.ADS.switchery(e("#action-box"))},getTIPOrders:function(t){t.ordersIdAli&&(e.each(t.ordersIdAli,function(t,r){e('.js-get-tracking[data-order_number="'+r+'"]').find(".fa").addClass("spin")}),window.ADS.aliExtension.getTIPOrders(t.ordersIdAli))},init:function(){this.handler(),this.listOrders()}};i.init()})}});